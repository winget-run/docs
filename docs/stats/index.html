<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.58">
<title data-react-helmet="true">Stats | winget.run</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Stats | winget.run"><meta data-react-helmet="true" name="description" content="Overview"><meta data-react-helmet="true" property="og:description" content="Overview"><meta data-react-helmet="true" property="og:url" content="https://docs.winget.run/docs/stats"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.winget.run/docs/stats"><link rel="stylesheet" href="/styles.78753323.css">
<link rel="preload" href="/styles.4fd65a9e.js" as="script">
<link rel="preload" href="/runtime~main.f9c80087.js" as="script">
<link rel="preload" href="/main.379906db.js" as="script">
<link rel="preload" href="/1.df66903b.js" as="script">
<link rel="preload" href="/2.a668ed16.js" as="script">
<link rel="preload" href="/16.3089f296.js" as="script">
<link rel="preload" href="/20ac7829.07a87bae.js" as="script">
<link rel="preload" href="/17896441.72014a77.js" as="script">
<link rel="preload" href="/c1ebac8a.7b2e1e88.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Stay home!"><strong class="navbar__title">winget.run</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/introduction">Package API</a><a href="https://github.com/winget-run" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><a href="https://ko-fi.com/wingetdotrun" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Ko-fi</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Stay home!"><strong class="navbar__title">winget.run</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/introduction">Package API</a></li><li class="menu__list-item"><a href="https://github.com/winget-run" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a href="https://ko-fi.com/wingetdotrun" target="_blank" rel="noopener noreferrer" class="menu__link">Ko-fi</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp" role="complementary"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">General</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/versioning">Versioning</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/authentication">Authentication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/ratelimiting">Rate-limiting</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Routes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/packages">Packages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/search">Search</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/stats">Stats</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manifests">Manifests</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Stats</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="overview"></a>Overview<a aria-hidden="true" tabindex="-1" class="hash-link" href="#overview" title="Direct link to heading">#</a></h2><p>This section provides a brief overview of our stat routes. Currently there is only one route created for this purpose which tracks the number of requests made to the &#x27;single package&#x27; route to give us a general idea which packages are being viewed more often than others. Please note that this route does not currently check for any types of abuse and no timeouts are implemented to prevent spam. These features may be implemented in a future API update.</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>Due to potential exploits, limits (TBD) will be imposed to how much stat data can be queried at any one time.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="time-ranges"></a>Time ranges<a aria-hidden="true" tabindex="-1" class="hash-link" href="#time-ranges" title="Direct link to heading">#</a></h3><p>Package stats are aggregated into daily intervals (UTC). However, the API provides an easy method of aggregating these numbers over a range of different intervals:</p><ul><li>Days</li><li>ISO Weeks</li><li>Months</li></ul><p>In addition, iso dates specifying the starting and ending intervals between which to retrieve stats can be supplied. The before date defaults to the current date, whereas the after date defaults to the start of (unix) time. Dates specified for both fields are rounded down based on the binning interval specified (above).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="schema"></a>Schema<a aria-hidden="true" tabindex="-1" class="hash-link" href="#schema" title="Direct link to heading">#</a></h2><p>The stats schema is shown below:</p><p>Stats</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Period: Date;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Value: number;</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="periods-aside"></a>Periods (aside)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#periods-aside" title="Direct link to heading">#</a></h3><blockquote><p>This section does not apply to data returned from the API, it only concerns our handing of stat data in our database.</p></blockquote><p>Rather than using iso date strings for storage, we set the &#x27;period&#x27; to a numerical value. The period field is dependent on our sampling period; The smallest interval (in ms) into which we bin our data. This is currently set as one day and will not change in API v2.</p><p>The &#x27;period&#x27; value represents a rounded down count of sampling periods since the start of (unix) time and can be calculated as follows:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// 1 day</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const SAMPLING_PERIOD = 1000 * 60 * 60 * 24;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const period = Math.floor(Date.now() / SAMPLING_PERIOD);</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="routes"></a>Routes<a aria-hidden="true" tabindex="-1" class="hash-link" href="#routes" title="Direct link to heading">#</a></h2><p>Below are the routes which allow to fetch API usage statistics:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="package-stats"></a>Package stats<a aria-hidden="true" tabindex="-1" class="hash-link" href="#package-stats" title="Direct link to heading">#</a></h3><p>This route returns the number of requests made to the &#x27;single package&#x27; route over a period of time binned into specified intervals.</p><p>The data returned here is guaranteed to be ordered by date (oldest first). However, if the &#x27;single package&#x27; route was not accessed at all during a particular period, the Stats object for that period will be missing from the array. For example, if we request stats for the past week and the package was never viewed on Wednesday, the resulting data array will onyly have 6 elements.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="url"></a>Url<a aria-hidden="true" tabindex="-1" class="hash-link" href="#url" title="Direct link to heading">#</a></h4><p><code>/v2/stats</code></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="query"></a>Query<a aria-hidden="true" tabindex="-1" class="hash-link" href="#query" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">packageId: string (publisher.packageName)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">resolution: string (day | isoWeek | month)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">after: Date</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">before: Date</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="successful-response"></a>Successful response<a aria-hidden="true" tabindex="-1" class="hash-link" href="#successful-response" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Code: 200</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Body:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stats:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Id: string</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Data: Stats[]</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="no-data-response"></a>No data response<a aria-hidden="true" tabindex="-1" class="hash-link" href="#no-data-response" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Code: 200</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Body:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Stats:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Id: string</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Data: []</span></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/winget-run/docs/tree/master/docs/stats.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/search"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Search</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/manifests"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Manifests »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link">Overview</a><ul><li><a href="#time-ranges" class="table-of-contents__link">Time ranges</a></li></ul></li><li><a href="#schema" class="table-of-contents__link">Schema</a><ul><li><a href="#periods-aside" class="table-of-contents__link">Periods (aside)</a></li></ul></li><li><a href="#routes" class="table-of-contents__link">Routes</a><ul><li><a href="#package-stats" class="table-of-contents__link">Package stats</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>© 2017 - 2020 Copyright: Feinwaru Software</div></div></div></footer></div>
<script src="/styles.4fd65a9e.js"></script>
<script src="/runtime~main.f9c80087.js"></script>
<script src="/main.379906db.js"></script>
<script src="/1.df66903b.js"></script>
<script src="/2.a668ed16.js"></script>
<script src="/16.3089f296.js"></script>
<script src="/20ac7829.07a87bae.js"></script>
<script src="/17896441.72014a77.js"></script>
<script src="/c1ebac8a.7b2e1e88.js"></script>
</body>
</html>